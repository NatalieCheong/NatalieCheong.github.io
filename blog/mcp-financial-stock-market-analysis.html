<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Building a Financial AI Assistant with Model Context Protocol (MCP)</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
        }
        
        .container {
            background: white;
            border-radius: 15px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        
        h1 {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-size: 2.5em;
            text-align: center;
            margin-bottom: 30px;
            font-weight: 700;
        }
        
        h2 {
            color: #4a5568;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
            margin-top: 40px;
        }
        
        h3 {
            color: #667eea;
            margin-top: 30px;
        }
        
        .highlight-box {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .feature-card {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 10px;
            padding: 20px;
            transition: transform 0.3s ease;
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        
        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 20px 0;
            border-left: 4px solid #667eea;
        }
        
        .terminal-output {
            background: #1a202c;
            color: #68d391;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
            margin: 15px 0;
        }
        
        .emoji {
            font-size: 1.2em;
            margin-right: 8px;
        }
        
        .tech-stack {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 20px 0;
        }
        
        .tech-tag {
            background: #667eea;
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: 500;
        }
        
        .results-section {
            background: #f0fff4;
            border: 2px solid #68d391;
            border-radius: 10px;
            padding: 25px;
            margin: 30px 0;
        }
        
        .cta-section {
            text-align: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin: 40px 0;
        }
        
        .cta-button {
            display: inline-block;
            background: white;
            color: #667eea;
            padding: 15px 30px;
            text-decoration: none;
            border-radius: 25px;
            font-weight: bold;
            margin: 10px;
            transition: transform 0.3s ease;
        }
        
        .cta-button:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }
        
        .author-info {
            background: #f8fafc;
            border-radius: 10px;
            padding: 20px;
            margin: 30px 0;
            text-align: center;
        }
        
        ul, ol {
            padding-left: 20px;
        }
        
        li {
            margin: 8px 0;
        }
        
        .architecture-diagram {
            text-align: center;
            margin: 30px 0;
            padding: 20px;
            background: #f8fafc;
            border-radius: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Building a Financial AI Assistant with Model Context Protocol (MCP)</h1>
        
        <div class="highlight-box">
            <p><span class="emoji">üöÄ</span><strong>Project Overview:</strong> A comprehensive MCP-powered financial analysis system that combines real-time stock data, AI-driven insights, and interactive chat capabilities for intelligent market analysis.</p>
        </div>

        <h2><span class="emoji">üí°</span>What is Model Context Protocol (MCP)?</h2>
        <p>Model Context Protocol (MCP) is an open standard that enables AI applications to securely connect to external data sources and tools. Think of it as a universal translator that allows AI assistants to seamlessly integrate with various services, databases, and APIs while maintaining security and standardization.</p>
        
        <div class="feature-grid">
            <div class="feature-card">
                <h3><span class="emoji">üîß</span>Tools</h3>
                <p>Functions that AI can execute to perform actions like fetching stock data or calculating metrics.</p>
            </div>
            <div class="feature-card">
                <h3><span class="emoji">üìä</span>Resources</h3>
                <p>Read-only data sources that provide context, like saved financial reports or market summaries.</p>
            </div>
            <div class="feature-card">
                <h3><span class="emoji">üìù</span>Prompts</h3>
                <p>Pre-built analysis templates that guide AI to perform complex financial evaluations.</p>
            </div>
        </div>

        <h2><span class="emoji">üéØ</span>Project Goals</h2>
        <p>This project demonstrates how to build a practical financial AI assistant that can:</p>
        <ul>
            <li><strong>Real-time Stock Analysis:</strong> Fetch live market data and provide instant insights</li>
            <li><strong>Portfolio Comparison:</strong> Compare multiple stocks across various financial metrics</li>
            <li><strong>Market Intelligence:</strong> Monitor major indices and market sentiment</li>
            <li><strong>Interactive Experience:</strong> Chat-based interface for natural language queries</li>
            <li><strong>Data Persistence:</strong> Save and retrieve analysis results for future reference</li>
        </ul>

        <h2><span class="emoji">üõ†Ô∏è</span>Technology Stack</h2>
        <div class="tech-stack">
            <span class="tech-tag">Python</span>
            <span class="tech-tag">MCP (Model Context Protocol)</span>
            <span class="tech-tag">yfinance</span>
            <span class="tech-tag">FastMCP</span>
            <span class="tech-tag">Anthropic Claude</span>
            <span class="tech-tag">pandas</span>
            <span class="tech-tag">asyncio</span>
        </div>

        <h2><span class="emoji">üèóÔ∏è</span>System Architecture</h2>
        <div class="architecture-diagram">
            <p><strong>User Query ‚Üí MCP Client ‚Üí MCP Server ‚Üí yfinance API ‚Üí Financial Data ‚Üí AI Analysis ‚Üí Response</strong></p>
        </div>
        
        <h3>Core Components:</h3>
        <div class="feature-grid">
            <div class="feature-card">
                <h4><span class="emoji">üñ•Ô∏è</span>Financial Server (financial_server.py)</h4>
                <ul>
                    <li>5 financial analysis tools</li>
                    <li>Resource management for saved data</li>
                    <li>Prompt templates for analysis</li>
                    <li>yfinance integration</li>
                </ul>
            </div>
            <div class="feature-card">
                <h4><span class="emoji">üí¨</span>Chat Client (financial_chatbot.py)</h4>
                <ul>
                    <li>Interactive conversation interface</li>
                    <li>Multi-server MCP connections</li>
                    <li>Resource and prompt management</li>
                    <li>Real-time AI responses</li>
                </ul>
            </div>
            <div class="feature-card">
                <h4><span class="emoji">üõ°Ô∏è</span>Safety System (guardrails.py)</h4>
                <ul>
                    <li>Input validation and sanitization</li>
                    <li>Rate limiting protection</li>
                    <li>Data quality assurance</li>
                    <li>Error handling and logging</li>
                </ul>
            </div>
        </div>

        <h2><span class="emoji">‚ö°</span>Key Features Implemented</h2>
        
        <h3>1. Stock Information Tools</h3>
        <div class="code-block">
# Get comprehensive stock data
get_stock_info("AAPL")
get_historical_data("TSLA", period="1y", interval="1d")  
compare_stocks(["AAPL", "GOOGL", "MSFT"], metric="market_cap")
get_market_summary()
        </div>

        <h3>2. Interactive Commands</h3>
        <div class="code-block">
# Resource access
@portfolios                    # List saved analyses
@AAPL_info.json              # View specific stock data

# Prompt execution  
/prompts                      # List available prompts
/prompt analyze_stock_prompt symbol=NVDA
        </div>

        <h3>3. Safety & Validation</h3>
        <div class="code-block">
# Automatic validation
- Stock symbol verification
- Rate limiting (30 requests/minute)
- Data quality checks
- Error handling and recovery
        </div>

        <div class="results-section">
            <h2><span class="emoji">üìà</span>Real-World Testing Results</h2>
            
            <h3>Stock Price Query</h3>
            <p><strong>Query:</strong> "What are the current stock price for AAPL?"</p>
            <div class="terminal-output">
üîß Calling tool get_stock_info with args {'symbol': 'AAPL'}
‚úÖ Tool result received

Apple (AAPL) is currently trading at $211.18 per share. This is up slightly from its previous close of $210.02. Some additional key information:
- The stock has a 52-week range of $169.21 to $260.10
- It has a P/E ratio of 32.89
- The dividend yield is 0.51%
- The company's market capitalization is approximately $3.15 trillion
            </div>

            <h3>Market Cap Comparison</h3>
            <p><strong>Query:</strong> "Compare AAPL, GOOGL, and MSFT by market cap"</p>
            <div class="terminal-output">
üîß Calling tool compare_stocks with args {'symbols': ['AAPL', 'GOOGL', 'MSFT'], 'metric': 'market_cap'}

Based on the current market capitalization data:
1. Microsoft (MSFT): $3.79 trillion
2. Apple (AAPL): $3.15 trillion  
3. Google/Alphabet (GOOGL): $2.25 trillion
            </div>

            <h3>Advanced Stock Analysis</h3>
            <p><strong>Query:</strong> "/prompt analyze_stock_prompt symbol=NVDA"</p>
            <div class="terminal-output">
**Executive Summary:**
- NVIDIA (NVDA) is currently trading at $172.41, with a substantial market cap of $4.2T
- The stock has shown strong performance with a 52-week range of $86.62 - $174.25
- P/E ratio of 55.62 indicates high growth expectations from investors

**Recommendations:**
Short-term Outlook (1-3 months): Neutral to Bullish
Long-term Outlook (1+ years): Bullish - Strong fundamental growth drivers
            </div>

            <h3>Market Summary</h3>
            <p><strong>Query:</strong> "What's the current market summary?"</p>
            <div class="terminal-output">
Current market conditions:
1. S&P 500: Trading at 6,296.79, down 0.57 points (-0.90%)
2. Dow Jones: At 44,342.19, down 142.30 points (-0.32%)
3. NASDAQ: Trading at 20,895.65, up 10.00 points (+0.05%)
4. Russell 2000: At 2,240.01, down 13.67 points (-0.61%)
5. VIX (Volatility Index): At 16.41, down 0.11 points (-0.67%)
            </div>
        </div>

        <h2><span class="emoji">üöÄ</span>Installation & Setup</h2>
        <div class="code-block">
# Clone the repository
git clone https://github.com/NatalieCheong/MCP_for_Simple_Financial_Stock_Market
cd MCP_for_Simple_Financial_Stock_Market

# Set up virtual environment
uv venv
source .venv/bin/activate  # Mac/Linux

# Install dependencies
uv pip install mcp yfinance anthropic python-dotenv nest-asyncio pandas numpy

# Configure environment
cp .env.example .env
# Add your Anthropic API key to .env

# Run the financial chatbot
python financial_chatbot.py
        </div>

        <h2><span class="emoji">üí°</span>Key Learning Outcomes</h2>
        <ul>
            <li><strong>MCP Integration:</strong> Successfully implemented a multi-server MCP architecture</li>
            <li><strong>Real-time Data:</strong> Integrated live financial data with AI analysis capabilities</li>
            <li><strong>Safety First:</strong> Implemented comprehensive validation and error handling</li>
            <li><strong>User Experience:</strong> Created an intuitive chat interface for complex financial queries</li>
            <li><strong>Scalability:</strong> Designed modular architecture for easy feature expansion</li>
        </ul>

        <h2><span class="emoji">üîÆ</span>Future Enhancements</h2>
        <ul>
            <li><strong>Portfolio Tracking:</strong> Persistent portfolio management and tracking</li>
            <li><strong>Technical Analysis:</strong> Advanced charting and technical indicators</li>
            <li><strong>News Integration:</strong> Real-time financial news and sentiment analysis</li>
            <li><strong>Alert System:</strong> Price alerts and automated notifications</li>
            <li><strong>Multi-Asset Support:</strong> Crypto, forex, and commodities integration</li>
            <li><strong>Backtesting:</strong> Historical strategy performance analysis</li>
        </ul>

        <h2><span class="emoji">‚ö†Ô∏è</span>Important Disclaimers</h2>
        <div class="highlight-box">
            <p><strong>Investment Disclaimer:</strong> This project is for educational and demonstration purposes only. The financial data and analysis provided should not be considered as investment advice. Always consult with qualified financial professionals before making investment decisions.</p>
        </div>

        <div class="cta-section">
            <h2><span class="emoji">üéØ</span>Try It Yourself!</h2>
            <p>Ready to build your own financial AI assistant? Check out the complete source code and documentation.</p>
            <a href="https://github.com/NatalieCheong/MCP_for_Simple_Financial_Stock_Market" class="cta-button">
                <span class="emoji">üìÇ</span>View GitHub Repository
            </a>
            <a href="https://modelcontextprotocol.io/" class="cta-button">
                <span class="emoji">üìö</span>Learn More About MCP
            </a>
        </div>

        <div class="author-info">
            <h3><span class="emoji">üë©‚Äçüíª</span>About the Author</h3>
            <p><strong>Natalie Cheong</strong> is a passionate AI engineer exploring the intersection of artificial intelligence and financial technology. This project demonstrates practical applications of Model Context Protocol in building intelligent financial analysis systems.</p>
            <p>Connect with me on <a href="https://github.com/NatalieCheong">GitHub</a> to explore more AI and fintech projects!</p>
        </div>

        <hr style="margin: 40px 0; border: none; height: 2px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
        
        <p style="text-align: center; color: #666; font-style: italic;">
            <span class="emoji">üìÖ</span>Published: January 2025 | 
            <span class="emoji">üè∑Ô∏è</span>Tags: MCP, AI, Finance, Python, Stock Market, yfinance
        </p>
    </div>
</body>
</html>
